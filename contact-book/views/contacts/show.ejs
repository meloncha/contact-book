<!-- views/contacts/show.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>  
</head>
<body>
    <%- include('../partials/nav') %> 

    <div class = "contact contact-show">
        <h2>Show</h2>
        <div>
            <h3><%= contact.name %></h3>
            <label>Email</label><span><%= contact.email %> </span>
            <br>
            <label>Phone</label><span><%= contact.phone %> </span>
        </div>
        <div class = "contact-menu">
            <a href="/contacts/<%= contact._id %>/edit">Edit</a>
            <form action="/contacts/<%= contact._id %>?_method=delete" method = "post">
                <a href="#" onclick="confirm('Do you want to delete this?')
                ?this.parentElement.submit():null;">Delete</a>
            </form>
        </div>
    </div>
</body>
</html>

<!-- a tag로 Edit를 만들어 edit action에 연결했습니다.
a tag로는 get만 요청할 수 있기 때문에 delete는 form으로 처리해야 합니다.
form에서도 post밖에 요청할 수 없기 때문에 ?_method=delete이 action에 query로 추가되었습니다.
이 부분은 서버의 method override package에 의해 처리되어 delete 요청으로 변경됩니다.

Delete를 눌렀을 때 onclick을 사용해서 confirm을 띄우고 yes인 경우 form을 submit하게 합니다.
-->